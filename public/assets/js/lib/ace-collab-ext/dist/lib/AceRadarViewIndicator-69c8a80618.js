"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AceRadarViewIndicator=void 0;var AceRadarViewIndicator=function(){function e(e,t,s,i,r){var o=this;this._label=e,this._color=t,this._viewRows=s,this._cursorRow=i,this._editor=r,this._docLineCount=r.getSession().getLength(),this._editorListener=function(){var e=o._editor.getSession().getLength();e!==o._docLineCount&&(o._docLineCount=e,o.update())},this._editor.on("change",this._editorListener),this._scrollElement=document.createElement("div"),this._scrollElement.className="ace-radar-view-scroll-indicator",this._scrollElement.style.borderColor=this._color,this._scrollElement.style.background=this._color,this._scrollElement.title=this._label,this._scrollElement.addEventListener("click",(function(){var e=(o._viewRows.end-o._viewRows.start)/2+o._viewRows.start;o._editor.scrollToLine(e,!0,!1,(function(){}))}),!1),this._cursorElement=document.createElement("div"),this._cursorElement.className="ace-radar-view-cursor-indicator",this._cursorElement.style.background=this._color,this._cursorElement.title=this._label,this._cursorElement.addEventListener("click",(function(){o._editor.scrollToLine(o._cursorRow,!0,!1,(function(){}))}),!1),this._wrapper=document.createElement("div"),this._wrapper.className="ace-radar-view-wrapper",this._wrapper.style.display="none",this._wrapper.appendChild(this._scrollElement),this._wrapper.appendChild(this._cursorElement)}return e.prototype.element=function(){return this._wrapper},e.prototype.setCursorRow=function(e){this._cursorRow=e,this.update()},e.prototype.setViewRows=function(e){this._viewRows=e,this.update()},e.prototype.update=function(){if(_isSet(this._viewRows)||_isSet(this._cursorRow)){this._wrapper.style.display=null;var e=this._docLineCount-1;if(_isSet(this._viewRows)){var t=Math.min(e,this._viewRows.start)/e*100,s=100-Math.min(e,this._viewRows.end)/e*100;this._scrollElement.style.top=t+"%",this._scrollElement.style.bottom=s+"%",this._scrollElement.style.display=null}else this._scrollElement.style.display="none";if(_isSet(this._cursorRow)){var i=Math.min(this._cursorRow,e)/e*((this._wrapper.offsetHeight-this._cursorElement.offsetHeight)/this._wrapper.offsetHeight)*100;this._cursorElement.style.top=i+"%",this._cursorElement.style.display=null}else this._cursorElement.style.display="none"}else this._wrapper.style.display="none"},e.prototype.dispose=function(){this._wrapper.parentNode.removeChild(this._wrapper),this._editor.off("change",this._editorListener)},e}();function _isSet(e){return null!=e}exports.AceRadarViewIndicator=AceRadarViewIndicator;
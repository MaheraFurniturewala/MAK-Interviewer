"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AceSelectionMarker=void 0;var AceSelectionMarker=function(){function e(e,t,r,i,n){this._session=e,this._label=r,this._color=i,this._ranges=n||[],this._selectionId=t,this._id=null,this._markerElement=document.createElement("div")}return e.prototype.update=function(e,t,r,i){for(var n=this;this._markerElement.hasChildNodes();)this._markerElement.removeChild(this._markerElement.lastChild);this._ranges.forEach((function(e){n._renderRange(t,r,i,e)})),this._markerElement.remove(),t.elt("remote-selection",""),(t.element.childNodes[t.i-1]||t.element.lastChild).appendChild(this._markerElement)},e.prototype.setSelection=function(e){this._ranges=null==e?[]:e instanceof Array?e:[e],this._forceSessionUpdate()},e.prototype.getLabel=function(){return this._label},e.prototype.selectionId=function(){return this._selectionId},e.prototype.markerId=function(){return this._id},e.prototype._renderLine=function(e){var t=document.createElement("div");t.className="ace-multi-selection",t.style.backgroundColor=this._color,"number"==typeof e.height&&(t.style.height=e.height+"px"),"number"==typeof e.width&&(t.style.width=e.width+"px"),"number"==typeof e.top&&(t.style.top=e.top+"px"),"number"==typeof e.left&&(t.style.left=e.left+"px"),"number"==typeof e.bottom&&(t.style.bottom=e.bottom+"px"),"number"==typeof e.right&&(t.style.right=e.right+"px"),this._markerElement.append(t)},e.prototype._renderRange=function(e,t,r,i){var n=i.toScreenRange(t),o=r.lineHeight,s=e.$getTop(n.start.row,r),l=0,h=e.$padding+n.start.column*r.characterWidth;if(n.isMultiLine()){if(this._renderLine({height:o,right:0,top:s,left:h}),s=e.$getTop(n.end.row,r),l=n.end.column*r.characterWidth,this._renderLine({height:o,width:l,top:s,left:e.$padding}),(o=(n.end.row-n.start.row-1)*r.lineHeight)<0)return;s=e.$getTop(n.start.row+1,r),this._renderLine({height:o,right:0,top:s,left:e.$padding})}else l=(i.end.column-i.start.column)*r.characterWidth,this._renderLine({height:o,width:l,top:s,left:h})},e.prototype._forceSessionUpdate=function(){this._session._signal("changeBackMarker")},e}();exports.AceSelectionMarker=AceSelectionMarker;